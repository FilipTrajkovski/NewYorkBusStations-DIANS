import axios, { CancelTokenSource } from "axios";
import { BusConnectionDto, BusStationConnectionDto } from "../api.types";

const {REACT_APP_API_BASE_URL: baseUrl} = process.env;
const apiUri = `${baseUrl}/bus-networks`;

export const getConnectionsForBus = (busId: number, source: CancelTokenSource): Promise<Array<BusConnectionDto>> => {
    return axios
        .get(`${apiUri}/${busId}`, {cancelToken: source.token})
        .then(response => response.data);
};

export const getConnectionsForBusStation = (busStationId: number, source: CancelTokenSource): Promise<Array<BusStationConnectionDto>> => {
    return axios
        .get(`${apiUri}/${busStationId}`, {cancelToken: source.token})
        .then(response => response.data);
};